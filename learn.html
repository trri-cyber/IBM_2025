<head>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<div class="card">
  <h2>Learn ISL</h2>
  <div id="progress">Progress: 0%</div>
  <div id="flashcard" class="flashcard">
    <div id="front">Click Next to start the quiz</div>
    <iframe id="sign-video" class="hidden" width="300" height="200" frameborder="0" allowfullscreen></iframe>
  </div>
  <button onclick="nextCard()">Next</button>

  <div id="quiz" class="hidden">
    <p id="quiz-question">Select the correct word for the sign:</p>
    <div class="quiz-options"></div>
  </div>
</div>

<script>
// Dictionary
const dictionary = {
  hello: { en: 'Hello', ta: 'வணக்கம்', category: 'greetings', video: 'https://www.youtube.com/embed/d6UJ4l7gHHw' },
      goodbye: { en: 'Goodbye', ta: 'பிரியாவிடை', category: 'greetings', video: 'https://www.youtube.com/embed/d6UJ4l7gHHw' },
      thankyou: { en: 'Thank you', ta: 'நன்றி', category: 'greetings', video: 'https://www.youtube.com/embed/__lLQ3mhCvM' },
      please: { en: 'Please', ta: 'தயவு செய்து', category: 'greetings', video: 'https://www.youtube.com/embed/lBJc2utXf04' },
      sorry: { en: 'Sorry', ta: 'மன்னிக்கவும்', category: 'greetings', video: 'https://www.youtube.com/embed/AMGGpAKltS0' },
       // HEALTH
      doctor: { en: 'Doctor', ta: 'மருத்துவர்', category: 'health', video: 'https://www.youtube.com/embed/IEVgcJA3JWk' },
      pain: { en: 'Pain', ta: 'வலி', category: 'health', video: 'https://www.youtube.com/embed/Ov6q4qFhWbs' },
      medicine: { en: 'Medicine', ta: 'மருந்து', category: 'health', video: 'https://www.youtube.com/embed/J0pAaNhq6C8' },
      hospital: { en: 'Hospital', ta: 'மருத்துவமனை', category: 'health', video: 'https://www.youtube.com/embed/syueldx2RHQ' },
      healthy: { en: 'Healthy', ta: 'ஆரோக்கியமான', category: 'health', video: 'https://www.youtube.com/embed/DAk2uwVR21I' },
// TRAVEL
      car: { en: 'Car', ta: 'கார்', category: 'travel', video: 'https://www.youtube.com/embed/HWHVWpYQWMg' },
      bus: { en: 'Bus', ta: 'பஸ்', category: 'travel', video: 'https://www.youtube.com/embed/u8A5KRYn5as' },
      train: { en: 'Train', ta: 'ரயில்', category: 'travel', video: 'https://www.youtube.com/embed/bNS3lgNLp84' },
      
};

// Convert dictionary to array for quiz
const cards = Object.entries(dictionary).map(([key, data]) => ({
  en: data.en,
  ta: data.ta,
  video: data.video
}));

let currentCardIndex = -1;
let mastered = 0;

function nextCard() {
  currentCardIndex++;
  if (currentCardIndex >= cards.length) currentCardIndex = 0;

  const card = cards[currentCardIndex];
  document.getElementById('front').textContent = 'Select the correct word for the sign';

  const videoEl = document.getElementById('sign-video');
  videoEl.src = card.video;
  videoEl.classList.remove('hidden');

  document.getElementById('quiz').classList.remove('hidden');

  generateOptions(card);
  updateProgress();
}

function generateOptions(card) {
  const optionsDiv = document.querySelector('.quiz-options');
  optionsDiv.innerHTML = '';

  // Select 3 random wrong options
  let wrongOptions = cards.filter(c => c !== card).sort(() => 0.5 - Math.random()).slice(0, 3);

  let allOptions = [...wrongOptions, card].sort(() => Math.random() - 0.5);

  allOptions.forEach(c => {
    const btn = document.createElement('button');
    btn.classList.add('quiz-btn');
    btn.textContent = `${c.en} / ${c.ta}`;
    btn.onclick = () => {
      if (c === card) {
        btn.classList.add('correct');
        mastered++;
      } else {
        btn.classList.add('incorrect');
      }
      optionsDiv.querySelectorAll('button').forEach(b => b.disabled = true);
      updateProgress();
    };
    optionsDiv.appendChild(btn);
  });
}

function updateProgress() {
  const progress = Math.floor((mastered / cards.length) * 100);
  document.getElementById('progress').textContent = `Progress: ${progress}% | Cards Mastered: ${mastered}/${cards.length}`;
}
</script>
